function iOSversion(){if(/iP(hone|od|ad)/.test(navigator.platform)){var t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3]||0,10)]}}function sendAjax(t,e,n,i){i||(i={});var a=new XMLHttpRequest;return a.open(t,e),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),"GET"!=t&&a.setRequestHeader("X-CSRF-TOKEN",_GLOBAL._TOKEN),a.withCredentials=!0,i.upload?a.send(n):(a.setRequestHeader("Content-Type","application/json"),n?a.send(JSON.stringify(n)):a.send()),a}function getElement(t){return document.querySelector(t)}function getAllElements(t){return document.querySelectorAll(t)}function createElement(t,e,n,i,a){var o=document.createElement(e);if(o.className=n,o.identity=t,i||(i={}),a)for(var r=0;r<a.length;r++)o.setAttribute(a[r].identity,a[r].value);if(i.innerHTML&&(o.innerHTML=i.innerHTML),i.childrens)for(var r=0;r<i.childrens.length;r++){var l=createElement(i.childrens[r].identity,i.childrens[r].tag,i.childrens[r].className,i.childrens[r].options,i.childrens[r].properties);o.appendChild(l),o[i.childrens[r].identity]=l}return o}function removeElement(t){try{t.parentNode.removeChild(t)}catch(t){}}function showLoginForm(){alertify.confirm("Chức năng này chỉ dành cho thành viên đã đăng nhập",function(){try{activeNavbarRight()}catch(t){}})}function formatTime(t){var e=Math.floor(t%60),n=Math.floor(t/60%60),i=Math.floor(t/3600);return(isNaN(t)||t===1/0)&&(i=n=e="-"),i=i>0?i+":":"",n=(n<10?"0"+n:n)+":",e=e<10?"0"+e:e,i+n+e}function getTimeAgo(t){var e=t.substring(0,10);t=new Date(t).getTime();var n=(new Date).getTime(),i=(n-t)/1e3;return i>2592e3?(e=e.split("-"),e[2]+"-"+e[1]+"-"+e[0]):i>604800?Math.floor(i/604800)+" tuần trước":i>86400?Math.floor(i/86400)+" ngày trước":i>3600?Math.floor(i/3600)+" giờ trước":i>60?Math.floor(i/60)+" phút trước":Math.floor(i)+" giây trước"}function getPageYOffset(){try{return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}catch(t){return 0}}function getScrollPageType(){try{return document.body.scrollTop>0?1:2}catch(t){}return 0}function scrollTo(t,e,n){if(!(n<=0)){var i=e-t.scrollTop,a=i/n*10;setTimeout(function(){t.scrollTop=t.scrollTop+a,t.scrollTop!=e&&scrollTo(t,e,n-10)},10)}}function scrollPageTo(t,e){try{return void(document.body.scrollTop>0?scrollTo(document.body,t,e):scrollTo(document.documentElement,t,e))}catch(t){}window.scrollTo(0,t)}function encodeString(t,e){var n="";t.toString();for(var i=0;i<t.length;i++){var a=t.charCodeAt(i),o=a^e;n+=String.fromCharCode(o)}return n}function setFilmItem(t,e){e||(e={});var n=document.createElement("div");n.className="tray-item";for(var i='<div class="tray-film-genres">',a=0;a<t.genres.data.length;a++)i+="<span>"+t.genres.data[a].name+"</span>",a+1<t.genres.data.length&&(i+=",&nbsp;");i+="</div>";var o='<div class="tray-film-update">';t.is_movie?o+=t.time:o+=t.meta.max_episode_name+" / "+t.time,o+="</div>";var r="";return t.upcoming&&(r='<div class="tray-item-upcoming">SẮP CHIẾU</div>'),n.innerHTML='<a href="/'+t.slug+'"><img class="tray-item-thumbnail" src="'+t.thumbnail+'"><div class="tray-item-description"><div class="tray-item-title">'+t.name+'</div><div class="tray-item-meta-info"><div class="tray-film-views">'+t.views.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")+' lượt xem</div><div class="tray-film-likes">'+t.likes.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")+" thích</div></div></div>"+i+o+'<div class="tray-item-play-button"><i class="icon-play"></i></div>'+r+"</a>",n}function setVideoItem(t,e){e||(e={});var n=document.createElement("div");n.className="video-item";var i='<div class="video-item-views">'+getTimeAgo(t.published_at)+" - "+t.views.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")+" lượt xem</div>";return n.innerHTML='<a href="/video/'+t.id+'"><img class="video-item-thumbnail" src="'+t.thumbnail+'"><div class="video-item-description"><div class="video-item-title">'+t.title+'</div><div class="video-item-duration">'+formatTime(t.duration)+'</div><div class="video-item-play-button"><i class="icon-play"></i></div>'+i+"</a>",n}function clickOnTab(t){t.onclick=function(){for(var e=getAllElements(".navbar-user-body"),n=t.getAttribute("data-tab"),i=getElement(".tab-"+n),a=e.length-1;a>=0;a--)e[a].classList.add("hidden");for(var a=navbarTab.children.length-1;a>=0;a--)navbarTab.children[a].classList.remove("activated");t.classList.add("activated"),i.classList.remove("hidden"),ismobile.any||Ps.update(i)}}function activeNavbarLeft(){navbarLeft.classList.add("activated"),navbarRight.classList.remove("activated"),floatingAction.classList.remove("activated"),actionToggle.innerHTML='<i class="icon-assistive"></i>',navbar.style.zIndex="8888"}function activeNavbarRight(){navbarRight.classList.add("activated"),navbarLeft.classList.remove("activated"),floatingAction.classList.remove("activated"),actionToggle.innerHTML='<i class="icon-assistive"></i>',navbar.style.zIndex="8888"}function lockScroll(){}function unlockScroll(){}function closeNavbar(t){var e=0,n=t.target;"ok"!=n.className&&(navbarLeft.contains(n)||navbarToggle.contains(n)||(navbarLeft.classList.remove("activated"),e++),navbarRight.contains(n)||navbarUser.contains(n)||(navbarRight.classList.remove("activated"),e++),e>0&&(navbar.style.zIndex=""))}function hideSearchResult(t){navbarSearch.contains(t.target)||searchResult.classList.remove("activated")}function hideFloatingAction(){if(!(window.innerWidth>=1024))return window.innerHeight>window.innerWidth||getPageYOffset()>100?void floatingAction.classList.remove("hidden"):void floatingAction.classList.add("hidden")}function setMenuHeight(){if(!ismobile.any)return void(navbarMenu.style="");var t=window.innerHeight-120;navbarMenu.style.maxHeight=t+"px",navbarMenu.style.overflow="auto"}function navbarOnload(){setMenuHeight(),hideFloatingAction()}function uploadAvatar(t){var e=new FormData;e.append("avatar",t);var n=new XMLHttpRequest;n.open("POST",_GLOBAL._API+"/users/self/avatar"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("X-CSRF-TOKEN",_GLOBAL._TOKEN),n.withCredentials=!0,n.send(e),n.onload=function(){if(200==n.status){var t=JSON.parse(n.responseText);if(t.avatar)return userAvatar.src=t.avatar,getElement(".user-avatar.big-avatar img").src=t.avatar,void alertify.success("Đổi hình đại diện thành công!")}},n.onerror=function(){}}function setLoginTabHeight(){var t=window.innerHeight-120;loginTab.style.maxHeight=t+"px",signupTab.style.maxHeight=t+"px",ismobile.any&&(loginTab.style.overflow="auto",signupTab.style.overflow="auto")}function setInfomationTabHeight(){var t=window.innerHeight-120;informationBody.style.maxHeight=t+"px",notificationBody.style.maxHeight=t+"px",ismobile.any&&(informationBody.style.overflow="auto",notificationBody.style.overflow="auto")}function validateLoginUsername(){var t=loginUsername.parentNode,e=t.querySelector(".tip");return loginUsername.value.length<5||loginUsername.value.length>20?(e.innerText="từ 6 - 20 kí tự",t.classList.add("warning"),!1):(e.innerText="",t.classList.remove("warning"),!0)}function validateSignupUsername(){var t=signupUsername.parentNode,e=t.querySelector(".tip");if(signupUsername.value.length<6||signupUsername.value.length>20)return validated.username=!1,e.innerText="từ 6 - 20 kí tự",void t.classList.add("warning");if(!validated.username||cachedValidate.username!=signupUsername.value){validated.username=!1,e.innerText="";var n=sendAjax("GET",_GLOBAL._API+"/users/validate?username="+signupUsername.value);n.onload=function(){if(200==n.status||304==n.status)return cachedValidate.username=signupUsername.value,t.classList.remove("warning"),void(validated.username=!0);400==n.status?e.innerText="không hợp lệ (bị cấm)":409==n.status&&(e.innerText="đã tồn tại trong hệ thống"),validated.username=!1,cachedValidate.username=null,t.classList.add("warning")}}}function validatePassword(t){var e=t.querySelector('input[name="password"]'),n=e.parentNode,i=n.querySelector(".tip");return e.value.length<6||e.value.length>30?(validated.password=!1,i.innerText="từ 6 - 30 kí tự",n.classList.add("warning"),!1):(validated.password=!0,i.innerText="",n.classList.remove("warning"),!0)}function validatePasswordConfirm(){var t=passwordConfirm.parentNode,e=t.querySelector(".tip");if(signupPassword.value!=passwordConfirm.value)return validated.passwordConfirm=!1,e.innerText="2 mật khẩu không khớp",void t.classList.add("warning");validated.passwordConfirm=!0,e.innerText="",t.classList.remove("warning")}function validateFullName(){var t=fullName.parentNode,e=t.querySelector(".tip");if(fullName.value.length<5||fullName.value.length>40)return validated.fullName=!1,e.innerText="từ 8 - 40 kí tự",void t.classList.add("warning");if(!validated.fullName||cachedValidate.fullName!=fullName.value){validated.fullName=!1,e.innerText="";var n=sendAjax("GET",_GLOBAL._API+"/users/validate?full_name="+fullName.value);n.onload=function(){if(200==n.status||304==n.status)return cachedValidate.fullName=fullName.value,t.classList.remove("warning"),void(validated.fullName=!0);400==n.status?e.innerText="không hợp lệ (bị cấm)":e.innerText="hãy thử lại",validated.fullName=!1,cachedValidate.fullName=null,t.classList.add("warning")}}}function validateEmail(){var t=email.parentNode,e=t.querySelector(".tip");if(email.value.length<8)return validated.email=!1,e.innerText="email không hợp lệ",void t.classList.add("warning");if(!validated.email||cachedValidate.email!=email.value){validated.email=!1,e.innerText="";var n=sendAjax("GET",_GLOBAL._API+"/users/validate?email="+email.value);n.onload=function(){if(200==n.status||304==n.status)return validated.email=!0,cachedValidate.email=email.value,void t.classList.remove("warning");400==n.status?e.innerText="email không hợp lệ":409==n.status&&(e.innerText="email đã tồn tại"),validated.email=!1,cachedValidate.email=null,t.classList.add("warning")}}}function validateBirthDate(t){var e=formGroupBirthday.querySelector(".tip");return birthDate.value<1||birthDate.value>31?(validated.birthDate=!1,e.innerText="chọn ngày sinh từ 1 - 31",formGroupBirthday.classList.add("warning"),!1):(validated.birthDate=!0,e.innerText="",formGroupBirthday.classList.remove("warning"),!t&&validated.birthMonth&&validated.birthYear&&validateBirthday(!0),!0)}function validateBirthMonth(t){var e=formGroupBirthday.querySelector(".tip");return birthMonth.value<1||birthMonth.value>12?(validated.birthMonth=!1,e.innerText="chọn tháng sinh từ 1 - 12",formGroupBirthday.classList.add("warning"),!1):(validated.birthMonth=!0,e.innerText="",formGroupBirthday.classList.remove("warning"),!t&&validated.birthDate&&validated.birthYear&&validateBirthday(!0),!0)}function validateBirthYear(t){var e=formGroupBirthday.querySelector(".tip");return birthYear.value<1970||birthYear.value>2010?(validated.birthYear=!1,e.innerText="chọn năm sinh từ 1970 - 2010",formGroupBirthday.classList.add("warning"),!1):(validated.birthYear=!0,e.innerText="",formGroupBirthday.classList.remove("warning"),!t&&validated.birthDate&&validated.birthMonth&&validateBirthday(!0),!0)}function validateBirthday(t){if(t||validateBirthDate(!0)&&validateBirthMonth(!0)&&validateBirthYear(!0)){var e=formGroupBirthday.querySelector(".tip"),n=birthDate.value+"-"+birthMonth.value+"-"+birthYear.value,i=new Date(birthYear.value+"-"+birthMonth.value+"-"+birthDate.value);try{if(i.getDate()!=birthDate.value||i.getMonth()+1!=birthMonth.value||i.getFullYear()!=birthYear.value)return validated.birthday=!1,cachedValidate.birthday=null,e.innerText="ngày "+n+" không hợp lệ",void formGroupBirthday.classList.add("warning");validated.birthday=!0,cachedValidate.birthday=n}catch(t){if(validated.birthday&&cachedValidate.birthday==n)return;e.innerText="",validated.birthday=!1;var a=sendAjax("GET",_GLOBAL._API+"/users/validate?birthday="+n);a.onload=function(){if(200==a.status||304==a.status)return validated.birthday=!0,cachedValidate.birthday=n,void formGroupBirthday.classList.remove("warning");validated.birthday=!1,cachedValidate.birthday=null,e.innerText="ngày "+n+" không hợp lệ",formGroupBirthday.classList.add("warning")}}}}function getNotifications(t){var e=getAllElements(".notification-item"),n=getElement(".notification-none"),i=e.length;if(t||(t={},!i)){if(navbarLoading.classList.remove("hidden"),cachedNotifications.submitted){if((new Date).getTime()-cachedNotifications.submitted<3e5)return n.classList.remove("hidden"),n.innerText="Không có thông báo",void navbarLoading.classList.add("hidden")}else{var a=store.get("notifications");if(a&&(new Date).getTime()-a.submitted<3e5)return n.classList.remove("hidden"),n.innerText="Không có thông báo",void navbarLoading.classList.add("hidden")}var o=sendAjax("GET",_GLOBAL._API+"/users/self/notifications?offset="+i);o.onload=function(){if(200==o.status){var t=JSON.parse(o.responseText);i+=t.data.length;for(var e=0;e<t.data.length;e++)notificationList.appendChild(setNotificationItem(t.data[e]));if(!i){n.classList.remove("hidden"),n.innerText="Không có thông báo",cachedNotifications=t,cachedNotifications.submitted=(new Date).getTime();try{store.set("notifications",cachedNotifications)}catch(t){}return}n.classList.add("hidden"),cachedNotifications={};try{store.remove("notifications")}catch(t){}i>=t.total?notificationMore.classList.add("hidden"):notificationMore.classList.remove("hidden")}navbarLoading.classList.add("hidden")},o.onerror=function(){navbarLoading.classList.add("hidden")}}}function setNotificationItem(t){var e=document.createElement("div");return e.className="notification-item",e.setAttribute("data-id",t.id),e.innerHTML='<a href="/'+t.link+'"><div class="notification-item-thumbnail"><img src="'+t.thumbnail+'"></div></a><div class="notification-item-body"><a href="/'+t.link+'"><div class="notification-item-title">'+t.content+'</div></a><div class="notification-item-time"><i class="icon icon-time"></i>'+getTimeAgo(t.created_at)+"</div></div>",e}function clearSignupForm(){for(var t=document.querySelector(".navbar-user-body.tab-signup").querySelectorAll('input[type="text"], input[type="password"], input[type="number"]'),e=t.length-1;e>=0;e--)t[e].value="";validated={},cachedValidate={}}function signup(){var t=document.querySelector("#form-signup-warning");if(t.parentNode.classList.add("hidden"),t.innerHTML="",navbarLoading.classList.remove("hidden"),signupButton.classList.add("disabled"),validateSignupUsername(),validatePassword(signupTab),validatePasswordConfirm(),validateFullName(),validateEmail(),validateBirthday(),!(validated.username&&validated.password&&validated.passwordConfirm&&validated.fullName&&validated.email&&validated.birthday))return signupButton.classList.remove("disabled"),void navbarLoading.classList.add("hidden");var e={username:cachedValidate.username,password:signupPassword.value,password_confirmation:passwordConfirm.value,full_name:cachedValidate.fullName,email:cachedValidate.email,birthday:cachedValidate.birthday,gender:parseInt(document.querySelector('input[name="gender"]:checked').value)},n=sendAjax("POST",_GLOBAL._API+"/users",e);n.onload=function(){if(signupButton.classList.remove("disabled"),201==n.status)return document.querySelector(".navbar-tab-login").click(),clearSignupForm(),loginUsername.value=e.username,loginPassword.value=e.password,void setTimeout(function(){loginButton.click()},1e3);t.innerHTML="<li>Đăng ký thất bại, vui lòng thử lại</li>",t.parentNode.classList.remove("hidden"),navbarLoading.classList.add("hidden")},n.onerror=function(e){t.innerHTML="<li>Lỗi kết nối, vui lòng thử lại</li>",t.parentNode.classList.remove("hidden"),signupButton.classList.remove("disabled"),navbarLoading.classList.add("hidden")}}function login(){var t=document.querySelector("#form-login-warning");if(t.parentNode.classList.add("hidden"),t.innerHTML="",navbarLoading.classList.remove("hidden"),loginButton.classList.add("disabled"),!validateLoginUsername()||!validatePassword(loginTab))return t.innerHTML="<li>Thông tin đăng nhập không chính xác</li>",t.parentNode.classList.remove("hidden"),loginButton.classList.remove("disabled"),void navbarLoading.classList.add("hidden");var e=document.querySelector('input[name="username"]').value,n=document.querySelector('input[name="password"]').value,i=document.querySelector('input[name="remember"]').checked,a={username:e,password:n,remember:i},o=sendAjax("POST",_GLOBAL._API+"/users/login",a);o.onload=function(){if(200==o.status)return void window.location.reload();400==o.status?t.innerHTML="<li>Thông tin đăng nhập không chính xác</li>":403==o.status&&(t.innerHTML="<li>Hệ thống đang tắt chức năng đăng nhập</li>"),t.parentNode.classList.remove("hidden"),loginButton.classList.remove("disabled"),navbarLoading.classList.add("hidden")},o.onerror=function(e){t.innerHTML="<li>Lỗi kết nối, vui lòng thử lại</li>",t.parentNode.classList.remove("hidden"),loginButton.classList.remove("disabled"),navbarLoading.classList.add("hidden")}}function logout(){var t=sendAjax("POST",_GLOBAL._API+"/users/logout");navbarLoading.classList.remove("hidden"),t.onload=function(){if(200==t.status){try{store.forEach(function(t,e){"episode"==t.substring(0,7)&&store.remove(t)}),store.remove("notifications")}catch(t){}window.location.reload()}},t.onerror=function(t){navbarLoading.classList.add("hidden")}}function getFilms(t,e){if(!lockAPI.all){e||(e={}),lockAPI.all=!0,allLoading.classList.remove("hidden"),allMore.classList.add("disabled");var n=getAllElements(".tray.all .tray-item").length,i=sendAjax("GET",_GLOBAL._API+"/films?offset="+n+"&limit=12");i.onload=function(){var t=JSON.parse(i.responseText);if(200==i.status){console.log(t);for(var e=0;e<t.data.length;e++)trayAllContent.appendChild(setFilmItem(t.data[e]));n+12>=t.total&&allMore.classList.add("hidden")}allLoading.classList.add("hidden"),allMore.classList.remove("disabled"),lockAPI.all=!1},i.onerror=function(){allLoading.classList.add("hidden"),allMore.classList.remove("disabled"),lockAPI.all=!1}}}!function t(e,n,i){function a(r,l){if(!n[r]){if(!e[r]){var s="function"==typeof require&&require;if(!l&&s)return s(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[r]={exports:{}};e[r][0].call(d.exports,function(t){var n=e[r][1][t];return a(n||t)},d,d.exports,t,e,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({1:[function(t,e,n){"use strict";var i=t("../main");"function"==typeof define&&define.amd?define(i):(window.PerfectScrollbar=i,void 0===window.Ps&&(window.Ps=i))},{"../main":7}],2:[function(t,e,n){"use strict";function i(t,e){var n=t.className.split(" ");n.indexOf(e)<0&&n.push(e),t.className=n.join(" ")}function a(t,e){var n=t.className.split(" "),i=n.indexOf(e);i>=0&&n.splice(i,1),t.className=n.join(" ")}n.add=function(t,e){t.classList?t.classList.add(e):i(t,e)},n.remove=function(t,e){t.classList?t.classList.remove(e):a(t,e)},n.list=function(t){return t.classList?Array.prototype.slice.apply(t.classList):t.className.split(" ")}},{}],3:[function(t,e,n){"use strict";function i(t,e){return window.getComputedStyle(t)[e]}function a(t,e,n){return"number"==typeof n&&(n=n.toString()+"px"),t.style[e]=n,t}function o(t,e){for(var n in e){var i=e[n];"number"==typeof i&&(i=i.toString()+"px"),t.style[n]=i}return t}var r={};r.e=function(t,e){var n=document.createElement(t);return n.className=e,n},r.appendTo=function(t,e){return e.appendChild(t),t},r.css=function(t,e,n){return"object"==typeof e?o(t,e):void 0===n?i(t,e):a(t,e,n)},r.matches=function(t,e){return void 0!==t.matches?t.matches(e):void 0!==t.matchesSelector?t.matchesSelector(e):void 0!==t.webkitMatchesSelector?t.webkitMatchesSelector(e):void 0!==t.mozMatchesSelector?t.mozMatchesSelector(e):void 0!==t.msMatchesSelector?t.msMatchesSelector(e):void 0},r.remove=function(t){void 0!==t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)},r.queryChildren=function(t,e){return Array.prototype.filter.call(t.childNodes,function(t){return r.matches(t,e)})},e.exports=r},{}],4:[function(t,e,n){"use strict";var i=function(t){this.element=t,this.events={}};i.prototype.bind=function(t,e){void 0===this.events[t]&&(this.events[t]=[]),this.events[t].push(e),this.element.addEventListener(t,e,!1)},i.prototype.unbind=function(t,e){var n=void 0!==e;this.events[t]=this.events[t].filter(function(i){return!(!n||i===e)||(this.element.removeEventListener(t,i,!1),!1)},this)},i.prototype.unbindAll=function(){for(var t in this.events)this.unbind(t)};var a=function(){this.eventElements=[]};a.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return void 0===e&&(e=new i(t),this.eventElements.push(e)),e},a.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},a.prototype.unbind=function(t,e,n){this.eventElement(t).unbind(e,n)},a.prototype.unbindAll=function(){for(var t=0;t<this.eventElements.length;t++)this.eventElements[t].unbindAll()},a.prototype.once=function(t,e,n){var i=this.eventElement(t),a=function(t){i.unbind(e,a),n(t)};i.bind(e,a)},e.exports=a},{}],5:[function(t,e,n){"use strict";e.exports=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}()},{}],6:[function(t,e,n){"use strict";var i=t("./class"),a=t("./dom"),o=n.toInt=function(t){return parseInt(t,10)||0},r=n.clone=function(t){if(t){if(t.constructor===Array)return t.map(r);if("object"==typeof t){var e={};for(var n in t)e[n]=r(t[n]);return e}return t}return null};n.extend=function(t,e){var n=r(t);for(var i in e)n[i]=r(e[i]);return n},n.isEditable=function(t){return a.matches(t,"input,[contenteditable]")||a.matches(t,"select,[contenteditable]")||a.matches(t,"textarea,[contenteditable]")||a.matches(t,"button,[contenteditable]")},n.removePsClasses=function(t){for(var e=i.list(t),n=0;n<e.length;n++){var a=e[n];0===a.indexOf("ps-")&&i.remove(t,a)}},n.outerWidth=function(t){return o(a.css(t,"width"))+o(a.css(t,"paddingLeft"))+o(a.css(t,"paddingRight"))+o(a.css(t,"borderLeftWidth"))+o(a.css(t,"borderRightWidth"))},n.startScrolling=function(t,e){i.add(t,"ps-in-scrolling"),void 0!==e?i.add(t,"ps-"+e):(i.add(t,"ps-x"),i.add(t,"ps-y"))},n.stopScrolling=function(t,e){i.remove(t,"ps-in-scrolling"),void 0!==e?i.remove(t,"ps-"+e):(i.remove(t,"ps-x"),i.remove(t,"ps-y"))},n.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(t,e,n){"use strict";var i=t("./plugin/destroy"),a=t("./plugin/initialize"),o=t("./plugin/update");e.exports={initialize:a,update:o,destroy:i}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":21}],8:[function(t,e,n){"use strict";e.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},{}],9:[function(t,e,n){"use strict";var i=t("../lib/helper"),a=t("../lib/dom"),o=t("./instances");e.exports=function(t){var e=o.get(t);e&&(e.event.unbindAll(),a.remove(e.scrollbarX),a.remove(e.scrollbarY),a.remove(e.scrollbarXRail),a.remove(e.scrollbarYRail),i.removePsClasses(t),o.remove(t))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(t,e,n){"use strict";function i(t,e){function n(t){return t.getBoundingClientRect()}var i=function(t){t.stopPropagation()};e.event.bind(e.scrollbarY,"click",i),e.event.bind(e.scrollbarYRail,"click",function(i){var a=i.pageY-window.pageYOffset-n(e.scrollbarYRail).top,l=a>e.scrollbarYTop?1:-1;r(t,"top",t.scrollTop+l*e.containerHeight),o(t),i.stopPropagation()}),e.event.bind(e.scrollbarX,"click",i),e.event.bind(e.scrollbarXRail,"click",function(i){var a=i.pageX-window.pageXOffset-n(e.scrollbarXRail).left,l=a>e.scrollbarXLeft?1:-1;r(t,"left",t.scrollLeft+l*e.containerWidth),o(t),i.stopPropagation()})}var a=t("../instances"),o=t("../update-geometry"),r=t("../update-scroll");e.exports=function(t){i(t,a.get(t))}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],11:[function(t,e,n){"use strict";function i(t,e){function n(n){var a=i+n*e.railXRatio,r=Math.max(0,e.scrollbarXRail.getBoundingClientRect().left)+e.railXRatio*(e.railXWidth-e.scrollbarXWidth);e.scrollbarXLeft=a<0?0:a>r?r:a;var l=o.toInt(e.scrollbarXLeft*(e.contentWidth-e.containerWidth)/(e.containerWidth-e.railXRatio*e.scrollbarXWidth))-e.negativeScrollAdjustment;c(t,"left",l)}var i=null,a=null,l=function(e){n(e.pageX-a),s(t),e.stopPropagation(),e.preventDefault()},d=function(){o.stopScrolling(t,"x"),e.event.unbind(e.ownerDocument,"mousemove",l)};e.event.bind(e.scrollbarX,"mousedown",function(n){a=n.pageX,i=o.toInt(r.css(e.scrollbarX,"left"))*e.railXRatio,o.startScrolling(t,"x"),e.event.bind(e.ownerDocument,"mousemove",l),e.event.once(e.ownerDocument,"mouseup",d),n.stopPropagation(),n.preventDefault()})}function a(t,e){function n(n){var a=i+n*e.railYRatio,r=Math.max(0,e.scrollbarYRail.getBoundingClientRect().top)+e.railYRatio*(e.railYHeight-e.scrollbarYHeight);e.scrollbarYTop=a<0?0:a>r?r:a;var l=o.toInt(e.scrollbarYTop*(e.contentHeight-e.containerHeight)/(e.containerHeight-e.railYRatio*e.scrollbarYHeight));c(t,"top",l)}var i=null,a=null,l=function(e){n(e.pageY-a),s(t),e.stopPropagation(),e.preventDefault()},d=function(){o.stopScrolling(t,"y"),e.event.unbind(e.ownerDocument,"mousemove",l)};e.event.bind(e.scrollbarY,"mousedown",function(n){a=n.pageY,i=o.toInt(r.css(e.scrollbarY,"top"))*e.railYRatio,o.startScrolling(t,"y"),e.event.bind(e.ownerDocument,"mousemove",l),e.event.once(e.ownerDocument,"mouseup",d),n.stopPropagation(),n.preventDefault()})}var o=t("../../lib/helper"),r=t("../../lib/dom"),l=t("../instances"),s=t("../update-geometry"),c=t("../update-scroll");e.exports=function(t){var e=l.get(t);i(t,e),a(t,e)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],12:[function(t,e,n){"use strict";function i(t,e){function n(n,i){var a=t.scrollTop;if(0===n){if(!e.scrollbarYActive)return!1;if(0===a&&i>0||a>=e.contentHeight-e.containerHeight&&i<0)return!e.settings.wheelPropagation}var o=t.scrollLeft;if(0===i){if(!e.scrollbarXActive)return!1;if(0===o&&n<0||o>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}var i=!1;e.event.bind(t,"mouseenter",function(){i=!0}),e.event.bind(t,"mouseleave",function(){i=!1});var r=!1;e.event.bind(e.ownerDocument,"keydown",function(c){if(!(c.isDefaultPrevented&&c.isDefaultPrevented()||c.defaultPrevented)){var d=o.matches(e.scrollbarX,":focus")||o.matches(e.scrollbarY,":focus");if(i||d){var u=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(u){if("IFRAME"===u.tagName)u=u.contentDocument.activeElement;else for(;u.shadowRoot;)u=u.shadowRoot.activeElement;if(a.isEditable(u))return}var h=0,f=0;switch(c.which){case 37:h=c.metaKey?-e.contentWidth:c.altKey?-e.containerWidth:-30;break;case 38:f=c.metaKey?e.contentHeight:c.altKey?e.containerHeight:30;break;case 39:h=c.metaKey?e.contentWidth:c.altKey?e.containerWidth:30;break;case 40:f=c.metaKey?-e.contentHeight:c.altKey?-e.containerHeight:-30;break;case 33:f=90;break;case 32:f=c.shiftKey?90:-90;break;case 34:f=-90;break;case 35:f=c.ctrlKey?-e.contentHeight:-e.containerHeight;break;case 36:f=c.ctrlKey?t.scrollTop:e.containerHeight;break;default:return}s(t,"top",t.scrollTop-f),s(t,"left",t.scrollLeft+h),l(t),(r=n(h,f))&&c.preventDefault()}}})}var a=t("../../lib/helper"),o=t("../../lib/dom"),r=t("../instances"),l=t("../update-geometry"),s=t("../update-scroll");e.exports=function(t){i(t,r.get(t))}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],13:[function(t,e,n){"use strict";function i(t,e){function n(n,i){var a=t.scrollTop;if(0===n){if(!e.scrollbarYActive)return!1;if(0===a&&i>0||a>=e.contentHeight-e.containerHeight&&i<0)return!e.settings.wheelPropagation}var o=t.scrollLeft;if(0===i){if(!e.scrollbarXActive)return!1;if(0===o&&n<0||o>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}function i(t){var e=t.deltaX,n=-1*t.deltaY;return void 0!==e&&void 0!==n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!==e&&n!==n&&(e=0,n=t.wheelDelta),t.shiftKey?[-n,-e]:[e,n]}function a(e,n){var i=t.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(i){if(!window.getComputedStyle(i).overflow.match(/(scroll|auto)/))return!1;var a=i.scrollHeight-i.clientHeight;if(a>0&&!(0===i.scrollTop&&n>0||i.scrollTop===a&&n<0))return!0;var o=i.scrollLeft-i.clientWidth;if(o>0&&!(0===i.scrollLeft&&e<0||i.scrollLeft===o&&e>0))return!0}return!1}function l(l){var c=i(l),d=c[0],u=c[1];a(d,u)||(s=!1,e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(u?r(t,"top",t.scrollTop-u*e.settings.wheelSpeed):r(t,"top",t.scrollTop+d*e.settings.wheelSpeed),s=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(d?r(t,"left",t.scrollLeft+d*e.settings.wheelSpeed):r(t,"left",t.scrollLeft-u*e.settings.wheelSpeed),s=!0):(r(t,"top",t.scrollTop-u*e.settings.wheelSpeed),r(t,"left",t.scrollLeft+d*e.settings.wheelSpeed)),o(t),(s=s||n(d,u))&&(l.stopPropagation(),l.preventDefault()))}var s=!1;void 0!==window.onwheel?e.event.bind(t,"wheel",l):void 0!==window.onmousewheel&&e.event.bind(t,"mousewheel",l)}var a=t("../instances"),o=t("../update-geometry"),r=t("../update-scroll");e.exports=function(t){i(t,a.get(t))}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],14:[function(t,e,n){"use strict";function i(t,e){e.event.bind(t,"scroll",function(){o(t)})}var a=t("../instances"),o=t("../update-geometry");e.exports=function(t){i(t,a.get(t))}},{"../instances":18,"../update-geometry":19}],15:[function(t,e,n){"use strict";function i(t,e){function n(){var t=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===t.toString().length?null:t.getRangeAt(0).commonAncestorContainer}function i(){c||(c=setInterval(function(){return o.get(t)?(l(t,"top",t.scrollTop+d.top),l(t,"left",t.scrollLeft+d.left),void r(t)):void clearInterval(c)},50))}function s(){c&&(clearInterval(c),c=null),a.stopScrolling(t)}var c=null,d={top:0,left:0},u=!1;e.event.bind(e.ownerDocument,"selectionchange",function(){t.contains(n())?u=!0:(u=!1,s())}),e.event.bind(window,"mouseup",function(){u&&(u=!1,s())}),e.event.bind(window,"keyup",function(){u&&(u=!1,s())}),e.event.bind(window,"mousemove",function(e){if(u){var n={x:e.pageX,y:e.pageY},o={left:t.offsetLeft,right:t.offsetLeft+t.offsetWidth,top:t.offsetTop,bottom:t.offsetTop+t.offsetHeight};n.x<o.left+3?(d.left=-5,a.startScrolling(t,"x")):n.x>o.right-3?(d.left=5,a.startScrolling(t,"x")):d.left=0,n.y<o.top+3?(d.top=o.top+3-n.y<5?-5:-20,a.startScrolling(t,"y")):n.y>o.bottom-3?(d.top=n.y-o.bottom+3<5?5:20,a.startScrolling(t,"y")):d.top=0,0===d.top&&0===d.left?s():i()}})}var a=t("../../lib/helper"),o=t("../instances"),r=t("../update-geometry"),l=t("../update-scroll");e.exports=function(t){i(t,o.get(t))}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],16:[function(t,e,n){"use strict";function i(t,e,n,i){function a(n,i){var a=t.scrollTop,o=t.scrollLeft,r=Math.abs(n),l=Math.abs(i);if(l>r){if(i<0&&a===e.contentHeight-e.containerHeight||i>0&&0===a)return!e.settings.swipePropagation}else if(r>l&&(n<0&&o===e.contentWidth-e.containerWidth||n>0&&0===o))return!e.settings.swipePropagation;return!0}function s(e,n){l(t,"top",t.scrollTop-n),l(t,"left",t.scrollLeft-e),r(t)}function c(){L=!0}function d(){L=!1}function u(t){return t.targetTouches?t.targetTouches[0]:t}function h(t){return!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE)
}function f(t){if(h(t)){w=!0;var e=u(t);p.pageX=e.pageX,p.pageY=e.pageY,m=(new Date).getTime(),null!==y&&clearInterval(y),t.stopPropagation()}}function v(t){if(!w&&e.settings.swipePropagation&&f(t),!L&&w&&h(t)){var n=u(t),i={pageX:n.pageX,pageY:n.pageY},o=i.pageX-p.pageX,r=i.pageY-p.pageY;s(o,r),p=i;var l=(new Date).getTime(),c=l-m;c>0&&(b.x=o/c,b.y=r/c,m=l),a(o,r)&&(t.stopPropagation(),t.preventDefault())}}function g(){!L&&w&&(w=!1,clearInterval(y),y=setInterval(function(){return o.get(t)&&(b.x||b.y)?Math.abs(b.x)<.01&&Math.abs(b.y)<.01?void clearInterval(y):(s(30*b.x,30*b.y),b.x*=.8,void(b.y*=.8)):void clearInterval(y)},10))}var p={},m=0,b={},y=null,L=!1,w=!1;n?(e.event.bind(window,"touchstart",c),e.event.bind(window,"touchend",d),e.event.bind(t,"touchstart",f),e.event.bind(t,"touchmove",v),e.event.bind(t,"touchend",g)):i&&(window.PointerEvent?(e.event.bind(window,"pointerdown",c),e.event.bind(window,"pointerup",d),e.event.bind(t,"pointerdown",f),e.event.bind(t,"pointermove",v),e.event.bind(t,"pointerup",g)):window.MSPointerEvent&&(e.event.bind(window,"MSPointerDown",c),e.event.bind(window,"MSPointerUp",d),e.event.bind(t,"MSPointerDown",f),e.event.bind(t,"MSPointerMove",v),e.event.bind(t,"MSPointerUp",g)))}var a=t("../../lib/helper"),o=t("../instances"),r=t("../update-geometry"),l=t("../update-scroll");e.exports=function(t){if(a.env.supportsTouch||a.env.supportsIePointer){i(t,o.get(t),a.env.supportsTouch,a.env.supportsIePointer)}}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],17:[function(t,e,n){"use strict";var i=t("../lib/helper"),a=t("../lib/class"),o=t("./instances"),r=t("./update-geometry"),l={"click-rail":t("./handler/click-rail"),"drag-scrollbar":t("./handler/drag-scrollbar"),keyboard:t("./handler/keyboard"),wheel:t("./handler/mouse-wheel"),touch:t("./handler/touch"),selection:t("./handler/selection")},s=t("./handler/native-scroll");e.exports=function(t,e){e="object"==typeof e?e:{},a.add(t,"ps-container");var n=o.add(t);n.settings=i.extend(n.settings,e),a.add(t,"ps-theme-"+n.settings.theme),n.settings.handlers.forEach(function(e){l[e](t)}),s(t),r(t)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(t,e,n){"use strict";function i(t){function e(){s.add(t,"ps-focus")}function n(){s.remove(t,"ps-focus")}var i=this;i.settings=l.clone(c),i.containerWidth=null,i.containerHeight=null,i.contentWidth=null,i.contentHeight=null,i.isRtl="rtl"===d.css(t,"direction"),i.isNegativeScroll=function(){var e=t.scrollLeft,n=null;return t.scrollLeft=-1,n=t.scrollLeft<0,t.scrollLeft=e,n}(),i.negativeScrollAdjustment=i.isNegativeScroll?t.scrollWidth-t.clientWidth:0,i.event=new u,i.ownerDocument=t.ownerDocument||document,i.scrollbarXRail=d.appendTo(d.e("div","ps-scrollbar-x-rail"),t),i.scrollbarX=d.appendTo(d.e("div","ps-scrollbar-x"),i.scrollbarXRail),i.scrollbarX.setAttribute("tabindex",0),i.event.bind(i.scrollbarX,"focus",e),i.event.bind(i.scrollbarX,"blur",n),i.scrollbarXActive=null,i.scrollbarXWidth=null,i.scrollbarXLeft=null,i.scrollbarXBottom=l.toInt(d.css(i.scrollbarXRail,"bottom")),i.isScrollbarXUsingBottom=i.scrollbarXBottom===i.scrollbarXBottom,i.scrollbarXTop=i.isScrollbarXUsingBottom?null:l.toInt(d.css(i.scrollbarXRail,"top")),i.railBorderXWidth=l.toInt(d.css(i.scrollbarXRail,"borderLeftWidth"))+l.toInt(d.css(i.scrollbarXRail,"borderRightWidth")),d.css(i.scrollbarXRail,"display","block"),i.railXMarginWidth=l.toInt(d.css(i.scrollbarXRail,"marginLeft"))+l.toInt(d.css(i.scrollbarXRail,"marginRight")),d.css(i.scrollbarXRail,"display",""),i.railXWidth=null,i.railXRatio=null,i.scrollbarYRail=d.appendTo(d.e("div","ps-scrollbar-y-rail"),t),i.scrollbarY=d.appendTo(d.e("div","ps-scrollbar-y"),i.scrollbarYRail),i.scrollbarY.setAttribute("tabindex",0),i.event.bind(i.scrollbarY,"focus",e),i.event.bind(i.scrollbarY,"blur",n),i.scrollbarYActive=null,i.scrollbarYHeight=null,i.scrollbarYTop=null,i.scrollbarYRight=l.toInt(d.css(i.scrollbarYRail,"right")),i.isScrollbarYUsingRight=i.scrollbarYRight===i.scrollbarYRight,i.scrollbarYLeft=i.isScrollbarYUsingRight?null:l.toInt(d.css(i.scrollbarYRail,"left")),i.scrollbarYOuterWidth=i.isRtl?l.outerWidth(i.scrollbarY):null,i.railBorderYWidth=l.toInt(d.css(i.scrollbarYRail,"borderTopWidth"))+l.toInt(d.css(i.scrollbarYRail,"borderBottomWidth")),d.css(i.scrollbarYRail,"display","block"),i.railYMarginHeight=l.toInt(d.css(i.scrollbarYRail,"marginTop"))+l.toInt(d.css(i.scrollbarYRail,"marginBottom")),d.css(i.scrollbarYRail,"display",""),i.railYHeight=null,i.railYRatio=null}function a(t){return t.getAttribute("data-ps-id")}function o(t,e){t.setAttribute("data-ps-id",e)}function r(t){t.removeAttribute("data-ps-id")}var l=t("../lib/helper"),s=t("../lib/class"),c=t("./default-setting"),d=t("../lib/dom"),u=t("../lib/event-manager"),h=t("../lib/guid"),f={};n.add=function(t){var e=h();return o(t,e),f[e]=new i(t),f[e]},n.remove=function(t){delete f[a(t)],r(t)},n.get=function(t){return f[a(t)]}},{"../lib/class":2,"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(t,e,n){"use strict";function i(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function a(t,e){var n={width:e.railXWidth};e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:n.left=t.scrollLeft,e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-t.scrollTop:n.top=e.scrollbarXTop+t.scrollTop,l.css(e.scrollbarXRail,n);var i={top:t.scrollTop,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?i.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:i.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:i.left=e.scrollbarYLeft+t.scrollLeft,l.css(e.scrollbarYRail,i),l.css(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),l.css(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}var o=t("../lib/helper"),r=t("../lib/class"),l=t("../lib/dom"),s=t("./instances"),c=t("./update-scroll");e.exports=function(t){var e=s.get(t);e.containerWidth=t.clientWidth,e.containerHeight=t.clientHeight,e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight;var n;t.contains(e.scrollbarXRail)||(n=l.queryChildren(t,".ps-scrollbar-x-rail"),n.length>0&&n.forEach(function(t){l.remove(t)}),l.appendTo(e.scrollbarXRail,t)),t.contains(e.scrollbarYRail)||(n=l.queryChildren(t,".ps-scrollbar-y-rail"),n.length>0&&n.forEach(function(t){l.remove(t)}),l.appendTo(e.scrollbarYRail,t)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=i(e,o.toInt(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=o.toInt((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=i(e,o.toInt(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=o.toInt(t.scrollTop*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),a(t,e),e.scrollbarXActive?r.add(t,"ps-active-x"):(r.remove(t,"ps-active-x"),e.scrollbarXWidth=0,e.scrollbarXLeft=0,c(t,"left",0)),e.scrollbarYActive?r.add(t,"ps-active-y"):(r.remove(t,"ps-active-y"),e.scrollbarYHeight=0,e.scrollbarYTop=0,c(t,"top",0))}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-scroll":20}],20:[function(t,e,n){"use strict";var i,a,o=t("./instances"),r=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e};e.exports=function(t,e,n){if(void 0===t)throw"You must provide an element to the update-scroll function";if(void 0===e)throw"You must provide an axis to the update-scroll function";if(void 0===n)throw"You must provide a value to the update-scroll function";"top"===e&&n<=0&&(t.scrollTop=n=0,t.dispatchEvent(r("ps-y-reach-start"))),"left"===e&&n<=0&&(t.scrollLeft=n=0,t.dispatchEvent(r("ps-x-reach-start")));var l=o.get(t);"top"===e&&n>=l.contentHeight-l.containerHeight&&(n=l.contentHeight-l.containerHeight,n-t.scrollTop<=1?n=t.scrollTop:t.scrollTop=n,t.dispatchEvent(r("ps-y-reach-end"))),"left"===e&&n>=l.contentWidth-l.containerWidth&&(n=l.contentWidth-l.containerWidth,n-t.scrollLeft<=1?n=t.scrollLeft:t.scrollLeft=n,t.dispatchEvent(r("ps-x-reach-end"))),i||(i=t.scrollTop),a||(a=t.scrollLeft),"top"===e&&n<i&&t.dispatchEvent(r("ps-scroll-up")),"top"===e&&n>i&&t.dispatchEvent(r("ps-scroll-down")),"left"===e&&n<a&&t.dispatchEvent(r("ps-scroll-left")),"left"===e&&n>a&&t.dispatchEvent(r("ps-scroll-right")),"top"===e&&(t.scrollTop=i=n,t.dispatchEvent(r("ps-scroll-y"))),"left"===e&&(t.scrollLeft=a=n,t.dispatchEvent(r("ps-scroll-x")))}},{"./instances":18}],21:[function(t,e,n){"use strict";var i=t("../lib/helper"),a=t("../lib/dom"),o=t("./instances"),r=t("./update-geometry"),l=t("./update-scroll");e.exports=function(t){var e=o.get(t);e&&(e.negativeScrollAdjustment=e.isNegativeScroll?t.scrollWidth-t.clientWidth:0,a.css(e.scrollbarXRail,"display","block"),a.css(e.scrollbarYRail,"display","block"),e.railXMarginWidth=i.toInt(a.css(e.scrollbarXRail,"marginLeft"))+i.toInt(a.css(e.scrollbarXRail,"marginRight")),e.railYMarginHeight=i.toInt(a.css(e.scrollbarYRail,"marginTop"))+i.toInt(a.css(e.scrollbarYRail,"marginBottom")),a.css(e.scrollbarXRail,"display","none"),a.css(e.scrollbarYRail,"display","none"),r(t),l(t,"top",t.scrollTop),l(t,"left",t.scrollLeft),a.css(e.scrollbarXRail,"display",""),a.css(e.scrollbarYRail,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19,"./update-scroll":20}]},{},[1]),function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.store=e()}(this,function(){var t,e={},n=window,i=n.document,a="localStorage",o="script";if(e.disabled=!1,e.version="1.3.19",e.set=function(t,e){},e.get=function(t,e){},e.has=function(t){return void 0!==e.get(t)},e.remove=function(t){},e.clear=function(){},e.transact=function(t,n,i){null==i&&(i=n,n=null),null==n&&(n={});var a=e.get(t,n);i(a),e.set(t,a)},e.getAll=function(){},e.forEach=function(){},e.serialize=function(t){return JSON.stringify(t)},e.deserialize=function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return t||void 0}},function(){try{return a in n&&n[a]}catch(t){return!1}}())t=n[a],e.set=function(n,i){return void 0===i?e.remove(n):(t.setItem(n,e.serialize(i)),i)},e.get=function(n,i){var a=e.deserialize(t.getItem(n));return void 0===a?i:a},e.remove=function(e){t.removeItem(e)},e.clear=function(){t.clear()},e.getAll=function(){var t={};return e.forEach(function(e,n){t[e]=n}),t},e.forEach=function(n){for(var i=0;i<t.length;i++){var a=t.key(i);n(a,e.get(a))}};else if(i.documentElement.addBehavior){var r,l;try{l=new ActiveXObject("htmlfile"),l.open(),l.write("<"+o+">document.w=window</"+o+'><iframe src="/favicon.ico"></iframe>'),l.close(),r=l.w.frames[0].document,t=r.createElement("div")}catch(e){t=i.createElement("div"),r=i.body}var s=function(n){return function(){var i=Array.prototype.slice.call(arguments,0);i.unshift(t),r.appendChild(t),t.addBehavior("#default#userData"),t.load(a);var o=n.apply(e,i);return r.removeChild(t),o}},c=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),d=function(t){return t.replace(/^d/,"___$&").replace(c,"___")};e.set=s(function(t,n,i){return n=d(n),void 0===i?e.remove(n):(t.setAttribute(n,e.serialize(i)),t.save(a),i)}),e.get=s(function(t,n,i){n=d(n);var a=e.deserialize(t.getAttribute(n));return void 0===a?i:a}),e.remove=s(function(t,e){e=d(e),t.removeAttribute(e),t.save(a)}),e.clear=s(function(t){var e=t.XMLDocument.documentElement.attributes;for(t.load(a);e.length;)t.removeAttribute(e[0].name);t.save(a)}),e.getAll=function(t){var n={};return e.forEach(function(t,e){n[t]=e}),n},e.forEach=s(function(t,n){for(var i,a=t.XMLDocument.documentElement.attributes,o=0;i=a[o];++o)n(i.name,e.deserialize(t.getAttribute(i.name)))})}try{var u="__storejs__";e.set(u,u),e.get(u)!=u&&(e.disabled=!0),e.remove(u)}catch(t){e.disabled=!0}return e.enabled=!e.disabled,e}),function(t){var e=/iPhone/i,n=/iPod/i,i=/iPad/i,a=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,o=/Android/i,r=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,l=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,s=/IEMobile/i,c=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,d=/BlackBerry/i,u=/BB10/i,h=/Opera Mini/i,f=/Safari(?=.*)/i,v=/(CriOS|Chrome)(?=.*\bMobile\b)/i,g=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,p=/UC.*Browser|UCWEB/i,m=/AppleTV/i,b=/(GoogleTV|CrKey)/i,y=/(SmartTV|SMART-TV|Tizen(.*TV))/i,L=/(Sony(.*TV)|TV(.*Sony))/i,w=/(LG(.*NetCast))/i,T=/TSB(.*TV)/i,x=/Viera/i,S=/(HbbTV|Espial|NETTV|TV(.*HDMI))/i,k=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),E=function(t,e){return t.test(e)},A=function(t){var A=t||navigator.userAgent,Y=A.split("[FBAN");if(void 0!==Y[1]&&(A=Y[0]),this.apple={phone:E(e,A),ipod:E(n,A),tablet:!E(e,A)&&E(i,A),device:E(e,A)||E(n,A)||E(i,A)},this.amazon={phone:E(r,A),tablet:!E(r,A)&&E(l,A),device:E(r,A)||E(l,A)},this.android={phone:E(r,A)||E(a,A),tablet:!E(r,A)&&!E(a,A)&&(E(l,A)||E(o,A)),device:E(r,A)||E(l,A)||E(a,A)||E(o,A)},this.windows={phone:E(s,A),tablet:E(c,A),device:E(s,A)||E(c,A)},this.tvu={apple:E(m,A),google:E(b,A),samsung:E(y,A),sony:E(L,A),lg:E(w,A),toshiba:E(T,A),panasonic:E(x,A),other:E(S,A)},this.other={blackberry:E(d,A),blackberry10:E(u,A),opera:E(h,A),firefox:E(g,A),chrome:E(v,A),safari:E(f,A),uc:E(p,A),device:E(d,A)||E(u,A)||E(h,A)||E(g,A)||E(v,A)},this.seven_inch=E(k,A),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,this.tv=this.tvu.apple||this.tvu.google||this.tvu.samsung||this.tvu.sony||this.tvu.lg||this.tvu.toshiba||this.tvu.panasonic||this.tvu.other,"undefined"==typeof window)return this},Y=function(){var t=new A;return t.Class=A,t};"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=A:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=Y():"function"==typeof define&&define.amd?define("ismobile",[],t.ismobile=Y()):t.ismobile=Y()}(this),function(){"use strict";function t(){var t={parent:document.body,version:"1.0.11",defaultOkLabel:"Ok",okLabel:"Ok",defaultCancelLabel:"Cancel",cancelLabel:"Cancel",defaultMaxLogItems:2,maxLogItems:2,promptValue:"",promptPlaceholder:"",closeLogOnClick:!1,closeLogOnClickDefault:!1,delay:5e3,defaultDelay:5e3,logContainerClass:"alertify-logs",logContainerDefaultClass:"alertify-logs",dialogs:{buttons:{holder:"<nav>{{buttons}}</nav>",ok:"<button class='ok' tabindex='1'>{{ok}}</button>",cancel:"<button class='cancel' tabindex='2'>{{cancel}}</button>"},input:"<input type='text'>",message:"<p class='msg'>{{message}}</p>",log:"<div class='{{class}}'>{{message}}</div>"},defaultDialogs:{buttons:{holder:"<nav>{{buttons}}</nav>",ok:"<button class='ok' tabindex='1'>{{ok}}</button>",cancel:"<button class='cancel' tabindex='2'>{{cancel}}</button>"},input:"<input type='text'>",message:"<p class='msg'>{{message}}</p>",log:"<div class='{{class}}'>{{message}}</div>"},build:function(t){var e=this.dialogs.buttons.ok,n="<div class='dialog'><div>"+this.dialogs.message.replace("{{message}}",t.message);return"confirm"!==t.type&&"prompt"!==t.type||(e=this.dialogs.buttons.cancel+this.dialogs.buttons.ok),"prompt"===t.type&&(n+=this.dialogs.input),n=(n+this.dialogs.buttons.holder+"</div></div>").replace("{{buttons}}",e).replace("{{ok}}",this.okLabel).replace("{{cancel}}",this.cancelLabel)},setCloseLogOnClick:function(t){this.closeLogOnClick=!!t},close:function(t,n){this.closeLogOnClick&&t.addEventListener("click",function(){e(t)}),n=n&&!isNaN(+n)?+n:this.delay,0>n?e(t):n>0&&setTimeout(function(){e(t)},n)},dialog:function(t,e,n,i){return this.setup({type:e,message:t,onOkay:n,onCancel:i})},log:function(t,e,n){var i=document.querySelectorAll(".alertify-logs > div");if(i){var a=i.length-this.maxLogItems;if(a>=0)for(var o=0,r=a+1;r>o;o++)this.close(i[o],-1)}this.notify(t,e,n)},setLogPosition:function(t){this.logContainerClass="alertify-logs "+t},setupLogContainer:function(){var t=document.querySelector(".alertify-logs"),e=this.logContainerClass;return t||(t=document.createElement("div"),t.className=e,this.parent.appendChild(t)),t.className!==e&&(t.className=e),t},notify:function(e,n,i){var a=this.setupLogContainer(),o=document.createElement("div");o.className=n||"default",t.logTemplateMethod?o.innerHTML=t.logTemplateMethod(e):o.innerHTML=e,"function"==typeof i&&o.addEventListener("click",i),a.appendChild(o),setTimeout(function(){o.className+=" show"},10),this.close(o,this.delay)},setup:function(t){function n(n){"function"!=typeof n&&(n=function(){}),a&&a.addEventListener("click",function(a){t.onOkay&&"function"==typeof t.onOkay&&(r?t.onOkay(r.value,a):t.onOkay(a)),n(r?{buttonClicked:"ok",inputValue:r.value,event:a}:{buttonClicked:"ok",event:a}),e(i)}),o&&o.addEventListener("click",function(a){t.onCancel&&"function"==typeof t.onCancel&&t.onCancel(a),n({buttonClicked:"cancel",event:a}),e(i)}),r&&r.addEventListener("keyup",function(t){13===t.which&&a.click()})}var i=document.createElement("div");i.className="alertify hide",i.innerHTML=this.build(t);var a=i.querySelector(".ok"),o=i.querySelector(".cancel"),r=i.querySelector("input"),l=i.querySelector("label");r&&("string"==typeof this.promptPlaceholder&&(l?l.textContent=this.promptPlaceholder:r.placeholder=this.promptPlaceholder),"string"==typeof this.promptValue&&(r.value=this.promptValue));var s;return"function"==typeof Promise?s=new Promise(n):n(),this.parent.appendChild(i),setTimeout(function(){i.classList.remove("hide"),r&&t.type&&"prompt"===t.type?(r.select(),r.focus()):a&&a.focus()},100),s},okBtn:function(t){return this.okLabel=t,this},setDelay:function(t){return t=t||0,this.delay=isNaN(t)?this.defaultDelay:parseInt(t,10),this},cancelBtn:function(t){return this.cancelLabel=t,this},setMaxLogItems:function(t){this.maxLogItems=parseInt(t||this.defaultMaxLogItems)},theme:function(t){switch(t.toLowerCase()){case"bootstrap":this.dialogs.buttons.ok="<button class='ok btn btn-primary' tabindex='1'>{{ok}}</button>",this.dialogs.buttons.cancel="<button class='cancel btn btn-default' tabindex='2'>{{cancel}}</button>",this.dialogs.input="<input type='text' class='form-control'>";break;case"purecss":this.dialogs.buttons.ok="<button class='ok pure-button' tabindex='1'>{{ok}}</button>",this.dialogs.buttons.cancel="<button class='cancel pure-button' tabindex='2'>{{cancel}}</button>";break;case"mdl":case"material-design-light":this.dialogs.buttons.ok="<button class='ok mdl-button mdl-js-button mdl-js-ripple-effect'  tabindex='1'>{{ok}}</button>",this.dialogs.buttons.cancel="<button class='cancel mdl-button mdl-js-button mdl-js-ripple-effect' tabindex='2'>{{cancel}}</button>",this.dialogs.input="<div class='mdl-textfield mdl-js-textfield'><input class='mdl-textfield__input'><label class='md-textfield__label'></label></div>";break;case"angular-material":this.dialogs.buttons.ok="<button class='ok md-primary md-button' tabindex='1'>{{ok}}</button>",this.dialogs.buttons.cancel="<button class='cancel md-button' tabindex='2'>{{cancel}}</button>",this.dialogs.input="<div layout='column'><md-input-container md-no-float><input type='text'></md-input-container></div>";break;case"default":default:this.dialogs.buttons.ok=this.defaultDialogs.buttons.ok,this.dialogs.buttons.cancel=this.defaultDialogs.buttons.cancel,this.dialogs.input=this.defaultDialogs.input}},reset:function(){this.parent=document.body,this.theme("default"),this.okBtn(this.defaultOkLabel),this.cancelBtn(this.defaultCancelLabel),this.setMaxLogItems(),this.promptValue="",this.promptPlaceholder="",this.delay=this.defaultDelay,this.setCloseLogOnClick(this.closeLogOnClickDefault),this.setLogPosition("bottom left"),this.logTemplateMethod=null},injectCSS:function(){if(!document.querySelector("#alertifyCSS")){var t=document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.id="alertifyCSS",e.innerHTML=".alertify-logs>*{padding:12px 24px;color:#fff;box-shadow:0 2px 5px 0 rgba(0,0,0,.2);border-radius:1px}.alertify-logs>*,.alertify-logs>.default{background:rgba(0,0,0,.8)}.alertify-logs>.error{background:rgba(244,67,54,.8)}.alertify-logs>.success{background:rgba(76,175,80,.9)}.alertify{position:fixed;background-color:rgba(0,0,0,.3);left:0;right:0;top:0;bottom:0;width:100%;height:100%;z-index:1}.alertify.hide{opacity:0;pointer-events:none}.alertify,.alertify.show{box-sizing:border-box;transition:all .33s cubic-bezier(.25,.8,.25,1)}.alertify,.alertify *{box-sizing:border-box}.alertify .dialog{padding:12px}.alertify .alert,.alertify .dialog{width:100%;margin:0 auto;position:relative;top:50%;transform:translateY(-50%)}.alertify .alert>*,.alertify .dialog>*{width:400px;max-width:95%;margin:0 auto;text-align:center;padding:12px;background:#fff;box-shadow:0 2px 4px -1px rgba(0,0,0,.14),0 4px 5px 0 rgba(0,0,0,.098),0 1px 10px 0 rgba(0,0,0,.084)}.alertify .alert .msg,.alertify .dialog .msg{padding:12px;margin-bottom:12px;margin:0;text-align:left}.alertify .alert input:not(.form-control),.alertify .dialog input:not(.form-control){margin-bottom:15px;width:100%;font-size:100%;padding:12px}.alertify .alert input:not(.form-control):focus,.alertify .dialog input:not(.form-control):focus{outline-offset:-2px}.alertify .alert nav,.alertify .dialog nav{text-align:right}.alertify .alert nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button),.alertify .dialog nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button){background:transparent;box-sizing:border-box;color:rgba(0,0,0,.87);position:relative;outline:0;border:0;display:inline-block;-ms-flex-align:center;-ms-grid-row-align:center;align-items:center;padding:0 6px;margin:6px 8px;line-height:36px;min-height:36px;white-space:nowrap;min-width:88px;text-align:center;text-transform:uppercase;font-size:14px;text-decoration:none;cursor:pointer;border:1px solid transparent;border-radius:2px}.alertify .alert nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):active,.alertify .alert nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):hover,.alertify .dialog nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):active,.alertify .dialog nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):hover{background-color:rgba(0,0,0,.05)}.alertify .alert nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):focus,.alertify .dialog nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):focus{border:1px solid rgba(0,0,0,.1)}.alertify .alert nav button.btn,.alertify .dialog nav button.btn{margin:6px 4px}.alertify-logs{position:fixed;z-index:1}.alertify-logs.bottom,.alertify-logs:not(.top){bottom:16px}.alertify-logs.left,.alertify-logs:not(.right){left:16px}.alertify-logs.left>*,.alertify-logs:not(.right)>*{float:left;transform:translateZ(0);height:auto}.alertify-logs.left>.show,.alertify-logs:not(.right)>.show{left:0}.alertify-logs.left>*,.alertify-logs.left>.hide,.alertify-logs:not(.right)>*,.alertify-logs:not(.right)>.hide{left:-110%}.alertify-logs.right{right:16px}.alertify-logs.right>*{float:right;transform:translateZ(0)}.alertify-logs.right>.show{right:0;opacity:1}.alertify-logs.right>*,.alertify-logs.right>.hide{right:-110%;opacity:0}.alertify-logs.top{top:0}.alertify-logs>*{box-sizing:border-box;transition:all .4s cubic-bezier(.25,.8,.25,1);position:relative;clear:both;backface-visibility:hidden;perspective:1000;max-height:0;margin:0;padding:0;overflow:hidden;opacity:0;pointer-events:none}.alertify-logs>.show{margin-top:12px;opacity:1;max-height:1000px;padding:12px;pointer-events:auto}",t.insertBefore(e,t.firstChild)}},removeCSS:function(){var t=document.querySelector("#alertifyCSS");t&&t.parentNode&&t.parentNode.removeChild(t)}};return t.injectCSS(),{_$$alertify:t,parent:function(e){t.parent=e},reset:function(){return t.reset(),this},alert:function(e,n,i){return t.dialog(e,"alert",n,i)||this},confirm:function(e,n,i){return t.dialog(e,"confirm",n,i)||this},prompt:function(e,n,i){return t.dialog(e,"prompt",n,i)||this},log:function(e,n){return t.log(e,"default",n),this},theme:function(e){return t.theme(e),this},success:function(e,n){return t.log(e,"success",n),this},error:function(e,n){return t.log(e,"error",n),this},cancelBtn:function(e){return t.cancelBtn(e),this},okBtn:function(e){return t.okBtn(e),this},delay:function(e){return t.setDelay(e),this},placeholder:function(e){return t.promptPlaceholder=e,this},defaultValue:function(e){return t.promptValue=e,this},maxLogItems:function(e){return t.setMaxLogItems(e),this},closeLogOnClick:function(e){return t.setCloseLogOnClick(!!e),this},logPosition:function(e){return t.setLogPosition(e||""),this},setLogTemplate:function(e){return t.logTemplateMethod=e,this},clearLogs:function(){return t.setupLogContainer().innerHTML="",this},version:t.version}}var e=function(t){if(t){var e=function(){t&&t.parentNode&&t.parentNode.removeChild(t)};t.classList.remove("show"),t.classList.add("hide"),t.addEventListener("transitionend",e),setTimeout(e,500)}};if("undefined"!=typeof module&&module&&module.exports){module.exports=function(){return new t};var n=new t;for(var i in n)module.exports[i]=n[i]}else"function"==typeof define&&define.amd?define(function(){return new t}):window.alertify=new t}();var url="",api="",token=document.querySelector("#token").getAttribute("value"),isLoggedIn=!1,isVIP=!1,userId=null,roleId=null,userDate=null,happy=!1,browserVersion=0,canPlayVPAID=!1,lockAPI={};try{url=window.location.origin}catch(t){try{url=window.location.protocol+"//"+window.location.host}catch(t){url=window.location.href.split("/")[0]+"//"+window.location.host}}api=url+"/api/v2";try{if(userId=document.querySelector("#user-id").value){isLoggedIn=!0;try{document.querySelector("#user-vip").value&&(isVIP=!0)}catch(t){}try{userDate=document.querySelector("#user-date").value}catch(t){}try{roleId=document.querySelector("#user-v").value}catch(t){}}}catch(t){}try{browserVersion=navigator.userAgent.match(/(CriOS|Chrome|Firefox|Safari(?=\/))\/?\s*(\d+)/i)[2],console.log("browser version: "+browserVersion),(!ismobile.any||ismobile.apple.device&&browserVersion>601||ismobile.other.chrome&&browserVersion>53||ismobile.other.firefox&&browserVersion>48)&&(canPlayVPAID=!0)}catch(t){}for(var _GLOBAL={_URL:url,_API:api,_TOKEN:token,_IS_LOGGED_IN:isLoggedIn,_IS_VIP:isVIP,_HAPPY:canPlayVPAID,_USER_ID:userId,_USER_ROLE:roleId,_USER_DATE:userDate},imgDefer=document.getElementsByTagName("img"),i=0;i<imgDefer.length;i++)imgDefer[i].getAttribute("data-src")&&imgDefer[i].setAttribute("src",imgDefer[i].getAttribute("data-src"));var navbar=getElement("nav"),navbarLeft=getElement("#navbar-left"),navbarRight=getElement("#navbar-right"),navbarToggle=getElement("#navbar-toggle"),navbarMenu=getElement(".navbar-menu"),navbarSearch=getElement(".navbar-search"),userAvatar=getElement("#user-avatar"),userTheme=getElement("#user-theme"),navbarTab=getElement(".navbar-user-tab"),userHeader=getElement(".navbar-user-header"),navbarUser=getElement(".navbar-header-user"),navbarLoading=navbarRight.querySelector(".loading"),floatingAction=getElement(".floating-action"),actionToggle=getElement(".action-toggle"),actionHome=getElement(".action-home"),actionMenu=getElement(".action-menu"),actionUser=getElement(".action-user"),actionTop=getElement(".action-top"),alertifyEl=getElement(".alertify"),searchBox=getElement(".search-box input"),searchButton=getElement(".search-box .icon"),searchResult=getElement(".search-result"),searchResultBody=getElement(".result-body"),searchLoading=searchResult.querySelector(".loading"),searchNoitem=searchResult.querySelector(".result-noitem"),cssTheme=document.createElement("link");cssTheme.id="dark-theme",cssTheme.rel="stylesheet",cssTheme.type="text/css",cssTheme.href="/css/dark.css?v="+(new Date).getTime(),window.addEventListener("resize",navbarOnload),window.addEventListener("scroll",hideFloatingAction),window.addEventListener("load",navbarOnload);for(var i=navbarTab.children.length-1;i>=0;i--)clickOnTab(navbarTab.children[i]);var navbarLeftBrand=document.createElement("div");navbarLeftBrand.className="navbar-brand",navbarLeftBrand.innerHTML='<a class="logo" href="/"><img src="/assets/img/logo.png" alt="VuiGhe.Net"></a>',navbarLeft.appendChild(navbarLeftBrand),userAvatar.onclick=function(){activeNavbarRight()},navbarToggle.onclick=function(){activeNavbarLeft()};try{userTheme.onclick=function(){var t=getElement("#dark-theme"),e={};t?(removeElement(t),e={theme:null}):(document.head.appendChild(cssTheme),e={theme:"dark"});var n=sendAjax("PUT",_GLOBAL._API+"/users/self/theme",e);n.onload=function(){},n.onerror=function(){}}}catch(t){}navbarLeft.querySelector(".navbar-close").onclick=function(){navbarLeft.classList.remove("activated"),navbar.style.zIndex=""},navbarRight.querySelector(".navbar-close").onclick=function(){navbarRight.classList.remove("activated"),navbar.style.zIndex=""},actionToggle.onclick=function(){scrollPageTo(0,600)};var loginButton=document.querySelector("#login"),logoutButton=document.querySelector("#logout"),signupButton=document.querySelector("#signup"),loginTab=document.querySelector(".tab-login"),signupTab=document.querySelector(".tab-signup"),validated={username:!1,password:!1,passwordConfirm:!1,fullName:!1,email:!1,birthday:!1},cachedValidate={username:null,fullName:null,email:null,birthday:null},cachedNotifications={};if(loginButton){loginButton.onclick=function(){login()},signupButton.onclick=function(){signup()};var loginUsername=loginTab.querySelector('input[name="username"]'),loginPassword=loginTab.querySelector('input[name="password"]'),signupUsername=signupTab.querySelector('input[name="username"]'),signupPassword=signupTab.querySelector('input[name="password"]'),passwordConfirm=signupTab.querySelector('input[name="password_confirm"]'),fullName=signupTab.querySelector('input[name="full_name"]'),email=signupTab.querySelector('input[name="email"]'),birthDate=document.querySelector('input[name="birthday"]'),birthMonth=document.querySelector('input[name="birthmonth"]'),birthYear=document.querySelector('input[name="birthyear"]'),formGroupBirthday=document.querySelector(".navbar-form-group.birthday");loginUsername.addEventListener("focusout",function(){validateLoginUsername()}),loginPassword.addEventListener("focusout",function(){validatePassword(loginTab)}),signupUsername.addEventListener("focusout",function(){validateSignupUsername()}),signupPassword.addEventListener("focusout",function(){validatePassword(signupTab)}),passwordConfirm.addEventListener("focusout",function(){validatePasswordConfirm()}),fullName.addEventListener("focusout",function(){validateFullName()}),email.addEventListener("focusout",function(){validateEmail()}),birthDate.addEventListener("focusout",function(){
validateBirthDate()}),birthMonth.addEventListener("focusout",function(){validateBirthMonth()}),birthYear.addEventListener("focusout",function(){validateBirthYear()}),loginUsername.addEventListener("keyup",function(t){try{13==t.which&&loginButton.click()}catch(t){}}),loginPassword.addEventListener("keyup",function(t){try{13==t.which&&loginButton.click()}catch(t){}}),window.addEventListener("resize",function(){setLoginTabHeight(),ismobile.any||(Ps.update(loginTab),Ps.update(signupTab))}),window.addEventListener("load",function(){setLoginTabHeight(),ismobile.any||(Ps.initialize(loginTab,{minScrollbarLength:50,maxScrollbarLength:50}),Ps.initialize(signupTab,{minScrollbarLength:50,maxScrollbarLength:50}))})}if(logoutButton){logoutButton.onclick=function(){logout()};var informationTab=document.querySelector(".navbar-tab-information"),notificationTab=document.querySelector(".navbar-tab-notification"),informationBody=document.querySelector(".tab-information"),notificationBody=document.querySelector(".tab-notification"),notificationList=document.querySelector(".notification-list"),notificationMore=document.querySelector(".notification-more"),avatarFile=getElement("#avatar-upload");avatarFile.onchange=function(){try{uploadAvatar(avatarFile.files[0])}catch(t){}},notificationTab.addEventListener("click",function(){getNotifications()}),notificationMore.onclick=function(){getNotifications({more:!0})},window.addEventListener("resize",function(){setInfomationTabHeight(),ismobile.any||(Ps.update(informationBody),Ps.update(notificationBody))}),window.addEventListener("load",function(){setInfomationTabHeight(),ismobile.any||(Ps.initialize(informationBody,{minScrollbarLength:50,maxScrollbarLength:50}),Ps.initialize(notificationBody,{minScrollbarLength:50,maxScrollbarLength:50}))})}var trayAllContent=getElement(".tray.all .tray-content"),allLoading=getElement(".tray.all .loading"),allMore=getElement(".tray.all .tray-more");window.addEventListener("click",function(t){closeNavbar(t)}),ismobile.apple.device&&window.addEventListener("touchstart",function(t){closeNavbar(t)});
